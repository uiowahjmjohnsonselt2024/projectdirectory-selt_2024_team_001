!!!
%html
  %head
    %title{ class: (session[:theme] || 'dark') }Shards of the Grid
    = stylesheet_link_tag 'application', media: 'all'
    = javascript_include_tag 'application', 'data-turbolinks-track': 'reload'
    = csrf_meta_tags

  %body{ class: (session[:theme] || 'dark') }
    - unless controller_name == 'sessions' && (action_name == 'create' || action_name == 'welcome_screen')
      %header
        %h1.title.centered-title Shards of the Grid

    #main
      - if flash[:notice]
        #notice.message= flash[:notice]
      - elsif flash[:warning]
        #warning.message= flash[:warning]

      = yield

    - unless controller_name == 'sessions' && action_name == 'create'
      %footer.footer-centered
        %p &copy; #{Time.now.year} Shards of the Grid

    :css
      /* Ensure full viewport coverage */
      html, body {
        height: 100%;
        margin: 0;
        display: flex;
        flex-direction: column;
        font-family: Arial, sans-serif;
      }

      body.dark {
        background-color: rgb(23, 24, 43);
        color: white;
      }

      body.light {
        background-color: white;
        color: black;
      }

      title.dark {
        padding-bottom: 30px;
        color: white;
        text-align: center;
        margin-top: 1rem;
      }

      title.light {
        padding-bottom: 30px;
        color: black;
        text-align: center;
        margin-top: 1rem;
      }

      #main {
        flex: 1;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        text-align: center;
        padding: 2rem;
      }

      .footer-centered {
        height: 50px;
        text-align: center;
        background-color: #f4f4f4;
        color: #666;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 0.5rem 0;
        font-size: 0.9rem;
        border-top: 1px solid #ddd;
      }

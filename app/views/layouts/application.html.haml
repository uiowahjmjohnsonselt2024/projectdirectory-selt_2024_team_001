!!!
%html{ lang: "en", "data-theme": session[:theme] || "dark" }
  %head
    %title Shards of the Grid



    = csrf_meta_tags
    = csp_meta_tag
    = javascript_importmap_tags
    = action_cable_meta_tag
    = stylesheet_link_tag "application", media: "all", "data-turbo-track": "reload"
    = javascript_include_tag 'application', 'data-turbolinks-track': 'reload'
  %body
    = yield



    #main
      - if flash[:notice]
        #notice.message= flash[:notice]
      - elsif flash[:warning]
        #warning.message= flash[:warning]

      = yield

    - unless controller_name == 'sessions' && action_name == 'create'
      %footer.footer-centered
        %p &copy; #{Time.now.year} Shards of the Grid

    :css
      /* Ensure full viewport coverage */
      html, body {
        background-color: rgb(23, 24, 43);
        color: white;
        height: 100%;
        margin: 0;
        display: flex;
        flex-direction: column;
        font-family: Arial, sans-serif;
      }

      [data-theme="light"] body {
        background-color: white;
        color: black;
      }

      title {
        padding-bottom: 30px;
        color: white;
        text-align: center;
        margin-top: 1rem;
      }

      [data-theme="light"] title {
        padding-bottom: 30px;
        color: black;
        text-align: center;
        margin-top: 1rem;
      }

      #main {
        flex: 1;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        text-align: center;
        padding: 2rem;
      }

      .footer-centered {
        height: 50px;
        text-align: center;
        background-color: black;
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 0.5rem 0;
        font-size: 0.9rem;
        border-top: 1px solid black;
      }

      [data-theme="light"] .footer-centered {
        height: 50px;
        text-align: center;
        background-color: #f4f4f4;
        color: #666;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 0.5rem 0;
        font-size: 0.9rem;
        border-top: 1px solid #ddd;
      }


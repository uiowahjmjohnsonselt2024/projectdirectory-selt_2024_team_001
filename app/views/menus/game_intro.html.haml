%html{ lang: "en" }
  %head
    %title Shards of the Grid - Game Intro
    %meta{ charset: "UTF-8" }
    %meta{ name: "viewport", content: "width=device-width, initial-scale=1.0" }
    :css
      html, body {
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
        background-color: black;
      }

      video {
        width: 100vw;
        height: 100vh;
        object-fit: cover;
      }
  %body
    %video{ id: "gameVideo", autoplay: true, muted: true, controls: false }
      %source{ src: "/videos/game_intro.mp4", type: "video/mp4" }
      Your browser does not support the video tag.

    :javascript
      document.addEventListener('DOMContentLoaded', function() {
        var gameVideo = document.getElementById('gameVideo');

        // Ensure video plays automatically
        gameVideo.play();

        // Add an event listener for the 'ended' event
        gameVideo.addEventListener('ended', function() {
          // Redirect to login page once the video ends
          window.location.href = "#{end_intro_path}";
        }, { once: true }); // Ensures the listener runs only once
      });
